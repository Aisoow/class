# 2-1 å­—ä¸²è§£ææ•´æ•¸ - å®Œæ•´æ•™å­¸

## ğŸ“‹ é¡Œç›®æ¦‚è¿°

æœ¬é¡Œç›®è¦æ±‚å¾ä¸€å€‹ä»¥é€—è™Ÿåˆ†éš”çš„å­—ä¸²ä¸­è§£æå‡ºæ‰€æœ‰æ•´æ•¸ï¼Œä¸¦é€è¡Œè¼¸å‡ºæ¯å€‹æ•´æ•¸ã€‚é€™æ˜¯ä¸€å€‹ç¶“å…¸çš„å­—ä¸²è™•ç†å•é¡Œï¼Œå¸¸è¦‹æ–¼è³‡æ–™è§£æå’Œæ ¼å¼è½‰æ›å ´æ™¯ã€‚

---

## ğŸ¯ è§£é¡Œæ€è·¯

### æ ¸å¿ƒæ¦‚å¿µ
1. **å­—ä¸²ä¸²æµï¼ˆstringstreamï¼‰**ï¼šå°‡å­—ä¸²ç•¶ä½œè¼¸å…¥ä¸²æµè™•ç†
2. **æ ¼å¼åŒ–è®€å–**ï¼šä½¿ç”¨ `>>` é‹ç®—å­è®€å–æ•´æ•¸
3. **åˆ†éš”ç¬¦è™•ç†**ï¼šè®€å–ä¸¦è·³éé€—è™Ÿåˆ†éš”ç¬¦

### æ¼”ç®—æ³•æµç¨‹
```
1. è®€å–åŒ…å«æ•´æ•¸çš„å­—ä¸²ï¼ˆæ ¼å¼ï¼šnum1,num2,num3,...ï¼‰
2. å‰µå»º stringstream ç‰©ä»¶è™•ç†å­—ä¸²
3. è¿´åœˆè®€å–ï¼š
   a. ä½¿ç”¨ >> è®€å–æ•´æ•¸
   b. å°‡æ•´æ•¸åŠ å…¥ vector
   c. ä½¿ç”¨ >> è®€å–ä¸¦è·³éé€—è™Ÿ
4. é€è¡Œè¼¸å‡ºæ‰€æœ‰æ•´æ•¸
```

---

## ğŸ’» ç¨‹å¼ç¢¼è©³è§£

### å®Œæ•´ç¨‹å¼ç¢¼
```cpp
#include <iostream>
#include <sstream>
#include <vector>
using namespace std;

vector<int> parseInts(string str)
{
    vector<int> result;
    stringstream ss(str);
    char c;
    int num;
    while (ss >> num)
    {
        result.push_back(num);
        ss >> c;
    }
    return result;
}

int main(int argc, char *argv[])
{
    string str;
    cin >> str;
    vector<int> integers = parseInts(str);
    for (int i = 0; i < integers.size(); i++)
    {
        cout << integers[i] << "\n";
    }

    return 0;
}
```

### é€è¡Œè§£æ

#### 1. parseInts å‡½å¼
```cpp
vector<int> parseInts(string str)
{
    vector<int> result;      // å„²å­˜çµæœ
    stringstream ss(str);    // å»ºç«‹å­—ä¸²ä¸²æµ
    char c;                  // æš«å­˜é€—è™Ÿ
    int num;                 // æš«å­˜æ•´æ•¸
    
    while (ss >> num)        // æŒçºŒè®€å–æ•´æ•¸
    {
        result.push_back(num); // åŠ å…¥çµæœ
        ss >> c;               // è®€å–é€—è™Ÿï¼ˆä¸¦å¿½ç•¥ï¼‰
    }
    
    return result;
}
```

#### 2. ä¸»å‡½å¼
```cpp
int main(int argc, char *argv[])
{
    string str;              // å„²å­˜è¼¸å…¥å­—ä¸²
    cin >> str;              // è®€å–å­—ä¸²
    
    vector<int> integers = parseInts(str);  // è§£æ
    
    // é€è¡Œè¼¸å‡º
    for (int i = 0; i < integers.size(); i++)
    {
        cout << integers[i] << "\n";
    }

    return 0;
}
```

---

## ğŸ” é—œéµçŸ¥è­˜é»

### 1. stringstreamï¼ˆå­—ä¸²ä¸²æµï¼‰

#### åŸºæœ¬æ¦‚å¿µ
```cpp
#include <sstream>
stringstream ss("23,4,56");
```
- **åŠŸèƒ½**ï¼šå°‡å­—ä¸²ç•¶ä½œè¼¸å…¥ä¸²æµè™•ç†
- **å„ªå‹¢**ï¼šå¯ä»¥åƒè™•ç† `cin` ä¸€æ¨£è™•ç†å­—ä¸²
- **æ‡‰ç”¨**ï¼šè³‡æ–™è§£æã€æ ¼å¼è½‰æ›

#### å¸¸ç”¨æ“ä½œ
```cpp
stringstream ss(str);
int num;
char c;

ss >> num;  // è®€å–æ•´æ•¸
ss >> c;    // è®€å–å­—å…ƒ
```

### 2. `>>` é‹ç®—å­çš„ç‰¹æ€§

#### è‡ªå‹•è·³éç©ºç™½
```cpp
stringstream ss("1 2  3   4");
int a, b, c, d;
ss >> a >> b >> c >> d;  // è‡ªå‹•è·³éæ‰€æœ‰ç©ºç™½
```

#### æ ¼å¼åŒ–è®€å–
```cpp
stringstream ss("23,45");
int num1, num2;
char comma;
ss >> num1 >> comma >> num2;
// num1 = 23, comma = ',', num2 = 45
```

### 3. vector å‹•æ…‹é™£åˆ—

#### åŸºæœ¬æ“ä½œ
```cpp
vector<int> vec;           // å®£å‘Š
vec.push_back(10);         // åŠ å…¥å…ƒç´ 
int size = vec.size();     // å–å¾—å¤§å°
int first = vec[0];        // å­˜å–å…ƒç´ 
```

---

## ğŸ“Š ç¯„ä¾‹åŸ·è¡Œ

### è¼¸å…¥ç¯„ä¾‹ 1
```
23,4,56
```

### åŸ·è¡Œéç¨‹
```
1. str = "23,4,56"
2. å»ºç«‹ stringstream: ss("23,4,56")
3. ç¬¬ä¸€æ¬¡è¿´åœˆï¼š
   - ss >> num â†’ num = 23
   - result.push_back(23) â†’ result = [23]
   - ss >> c â†’ c = ','
4. ç¬¬äºŒæ¬¡è¿´åœˆï¼š
   - ss >> num â†’ num = 4
   - result.push_back(4) â†’ result = [23, 4]
   - ss >> c â†’ c = ','
5. ç¬¬ä¸‰æ¬¡è¿´åœˆï¼š
   - ss >> num â†’ num = 56
   - result.push_back(56) â†’ result = [23, 4, 56]
   - ss >> c â†’ ç„¡æ³•è®€å–ï¼Œè¿´åœˆçµæŸ
6. é€è¡Œè¼¸å‡º
```

### è¼¸å‡º
```
23
4
56
```

### è¼¸å…¥ç¯„ä¾‹ 2
```
100,200,300,400
```

### è¼¸å‡º
```
100
200
300
400
```

---

## ğŸ”§ é€²éšç”¨æ³•èˆ‡è®ŠåŒ–

### æ–¹æ³• 1ï¼šä½¿ç”¨ getline è™•ç†ä¸åŒåˆ†éš”ç¬¦
```cpp
vector<int> parseInts(string str)
{
    vector<int> result;
    stringstream ss(str);
    string token;
    
    while (getline(ss, token, ','))  // ä»¥é€—è™Ÿç‚ºåˆ†éš”ç¬¦
    {
        result.push_back(stoi(token));  // è½‰æ›ç‚ºæ•´æ•¸
    }
    
    return result;
}
```

### æ–¹æ³• 2ï¼šè™•ç†å¤šç¨®åˆ†éš”ç¬¦
```cpp
vector<int> parseInts(string str)
{
    vector<int> result;
    stringstream ss(str);
    int num;
    char c;
    
    while (ss >> num)
    {
        result.push_back(num);
        if (ss >> c)  // æª¢æŸ¥æ˜¯å¦é‚„æœ‰åˆ†éš”ç¬¦
        {
            // å¯ä»¥è™•ç†é€—è™Ÿã€åˆ†è™Ÿç­‰
        }
    }
    
    return result;
}
```

### æ–¹æ³• 3ï¼šéŒ¯èª¤è™•ç†ç‰ˆæœ¬
```cpp
vector<int> parseInts(string str)
{
    vector<int> result;
    stringstream ss(str);
    int num;
    char c;
    
    while (ss >> num)
    {
        result.push_back(num);
        
        // å˜—è©¦è®€å–åˆ†éš”ç¬¦
        if (ss >> c)
        {
            if (c != ',')  // æª¢æŸ¥æ˜¯å¦ç‚ºé æœŸçš„åˆ†éš”ç¬¦
            {
                cerr << "Error: unexpected delimiter\n";
            }
        }
    }
    
    return result;
}
```

---

## âš ï¸ å¸¸è¦‹éŒ¯èª¤

### éŒ¯èª¤ 1ï¼šå¿˜è¨˜è®€å–åˆ†éš”ç¬¦
```cpp
// âŒ éŒ¯èª¤ï¼šåªè®€æ•´æ•¸ï¼Œä¸è®€é€—è™Ÿ
while (ss >> num)
{
    result.push_back(num);
    // ç¼ºå°‘ ss >> c;
}

// âœ… æ­£ç¢º
while (ss >> num)
{
    result.push_back(num);
    ss >> c;  // è®€å–ä¸¦è·³éé€—è™Ÿ
}
```

### éŒ¯èª¤ 2ï¼šåˆ†éš”ç¬¦è™•ç†é‚è¼¯éŒ¯èª¤
```cpp
// âŒ éŒ¯èª¤ï¼šå…ˆè®€åˆ†éš”ç¬¦
while (ss >> c >> num)  // ç¬¬ä¸€å€‹æ•¸å­—å‰æ²’æœ‰é€—è™Ÿ
{
    result.push_back(num);
}

// âœ… æ­£ç¢ºï¼šå…ˆè®€æ•¸å­—ï¼Œå†è®€åˆ†éš”ç¬¦
while (ss >> num)
{
    result.push_back(num);
    ss >> c;
}
```

### éŒ¯èª¤ 3ï¼šä½¿ç”¨éŒ¯èª¤çš„è¼¸å‡ºæ ¼å¼
```cpp
// âŒ éŒ¯èª¤ï¼šè¼¸å‡ºæ™‚ç”¨é€—è™Ÿåˆ†éš”
for (int i = 0; i < integers.size(); i++)
{
    cout << integers[i] << ",";  // ä¸ç¬¦åˆè¦æ±‚
}

// âœ… æ­£ç¢ºï¼šé€è¡Œè¼¸å‡º
for (int i = 0; i < integers.size(); i++)
{
    cout << integers[i] << "\n";
}
```

---

## ğŸš€ æ•ˆèƒ½èˆ‡è¤‡é›œåº¦åˆ†æ

### æ™‚é–“è¤‡é›œåº¦
- **è§£æéç¨‹**ï¼šO(n)ï¼Œå…¶ä¸­ n æ˜¯å­—ä¸²é•·åº¦
- **è¼¸å‡ºéç¨‹**ï¼šO(m)ï¼Œå…¶ä¸­ m æ˜¯æ•´æ•¸å€‹æ•¸
- **ç¸½æ™‚é–“è¤‡é›œåº¦**ï¼šO(n + m)

### ç©ºé–“è¤‡é›œåº¦
- **vector å„²å­˜**ï¼šO(m)
- **stringstream**ï¼šO(n)
- **ç¸½ç©ºé–“è¤‡é›œåº¦**ï¼šO(n + m)

---

## ğŸ“ å»¶ä¼¸å­¸ç¿’

### ç›¸é—œä¸»é¡Œ
1. **å­—ä¸²è™•ç†**ï¼š`string`, `getline()`, `substr()`
2. **ä¸²æµæ“ä½œ**ï¼š`stringstream`, `istringstream`, `ostringstream`
3. **å®¹å™¨æ“ä½œ**ï¼š`vector`, `deque`, `list`
4. **å­—ä¸²è½‰æ›**ï¼š`stoi()`, `stod()`, `to_string()`

### å¯¦å‹™æ‡‰ç”¨
1. **CSV æª”æ¡ˆè§£æ**ï¼šè®€å–é€—è™Ÿåˆ†éš”å€¼æª”æ¡ˆ
2. **è¨­å®šæª”è§£æ**ï¼šè§£æ key=value æ ¼å¼
3. **è³‡æ–™è½‰æ›**ï¼šä¸åŒæ ¼å¼ä¹‹é–“çš„è½‰æ›
4. **è¼¸å…¥é©—è­‰**ï¼šæª¢æŸ¥è¼¸å…¥æ ¼å¼æ˜¯å¦æ­£ç¢º

### ç·´ç¿’é¡Œç›®
1. ä¿®æ”¹ç¨‹å¼æ”¯æ´ä¸åŒçš„åˆ†éš”ç¬¦ï¼ˆå¦‚åˆ†è™Ÿã€ç©ºæ ¼ï¼‰
2. åŠ å…¥éŒ¯èª¤è™•ç†ï¼ˆè™•ç†éæ•¸å­—å­—å…ƒï¼‰
3. è§£æåŒ…å«è² æ•¸å’Œæµ®é»æ•¸çš„å­—ä¸²
4. è§£æ key-value æ ¼å¼çš„å­—ä¸²

---

## ğŸ“ ç¸½çµ

### æœ¬é¡Œé‡é»
- âœ… `stringstream` çš„ä½¿ç”¨
- âœ… æ ¼å¼åŒ–è¼¸å…¥è™•ç†
- âœ… å‹•æ…‹é™£åˆ—ï¼ˆvectorï¼‰æ“ä½œ
- âœ… å­—ä¸²è§£ææŠ€å·§

### é—œéµæŠ€èƒ½
1. ç†Ÿç·´ä½¿ç”¨ `stringstream` é€²è¡Œå­—ä¸²è§£æ
2. ç†è§£ `>>` é‹ç®—å­çš„è¡Œç‚º
3. æŒæ¡ `vector` çš„åŸºæœ¬æ“ä½œ
4. å…·å‚™åŸºæœ¬çš„éŒ¯èª¤è™•ç†æ„è­˜

é€™å€‹ç¨‹å¼å±•ç¤ºäº† C++ ä¸­å­—ä¸²è™•ç†çš„åŸºæœ¬æŠ€å·§ï¼Œæ˜¯è³‡æ–™çµæ§‹èˆ‡æ¼”ç®—æ³•å­¸ç¿’ä¸­çš„é‡è¦åŸºç¤ï¼
